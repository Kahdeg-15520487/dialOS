// Comprehensive file operations test
function main(): void {
    os.console.print("=== File API Test ===");
    
    // Test file write
    os.console.print("Creating file...");
    var handle: os.file.open("testfile.txt", "w");
    if (handle != -1) {
        var written: os.file.write(handle, "Hello from dialOS!");
        os.file.close(handle);
        os.console.print(`Wrote ${written} bytes`);
    } else {
        os.console.error("Failed to create file");
    }
    
    // Test file exists
    var exists: os.file.exists("testfile.txt");
    os.console.print(`File exists: ${exists}`);
    
    // Test file size
    var size: os.file.size("testfile.txt");
    os.console.print(`File size: ${size} bytes`);
    
    // Test file read
    os.console.print("Reading file...");
    var readHandle: os.file.open("testfile.txt", "r");
    if (readHandle != -1) {
        var content: os.file.read(readHandle, size);
        os.file.close(readHandle);
        os.console.print(`Content: ${content}`);
    }
    
    // Test directory operations
    os.console.print("Testing directories...");
    os.dir.create("testdir");
    var dirExists: os.dir.exists("testdir");
    os.console.print(`Directory exists: ${dirExists}`);
    
    os.console.print("=== Test Complete ===");
}

main();